{% extends 'base.html' %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <h1>{{ post.title }}</h1>
    <p class="text-muted">Posted on {{ post.created_on|date:"F j, Y" }}</p>

    <!-- Display post image -->
    {% if post.featured_image %}
    <img src="{{ post.featured_image.url }}" class="img-fluid mb-4" alt="{{ post.title }}">
    {% endif %}

    <!-- Post content -->
    <div class="content">
        {{ post.content|safe }}
    </div>

    <!-- Display the URL field if it exists -->
    {% if post.url %}
    <p>
        <strong>Source:</strong> 
        <a href="{{ post.url }}" target="_blank" class="text-primary">Visit External Link</a>
    </p>
    {% endif %}

    <!-- Add comment section -->
    <hr>
    <h3>Add a Comment</h3>
    <form method="post" action="{% url 'add_comment' post.pk %}">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Add Comment</button>
    </form>
</div>
{% endblock %}
